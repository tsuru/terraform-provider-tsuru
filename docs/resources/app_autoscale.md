---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "tsuru_app_autoscale Resource - terraform-provider-tsuru"
subcategory: ""
description: |-
  Tsuru Application Autoscale
---

# tsuru_app_autoscale (Resource)

Tsuru Application Autoscale

## Example Usage

```terraform
resource "tsuru_app_autoscale" "web" {
  app         = tsuru_app.my-app.name
  process     = "web"
  min_units   = 3
  max_units   = 10
  cpu_average = "60%"

  schedule {
    min_replicas = 5
    start        = "0 18 * * *"
    end          = "0 0 * * *"
    timezone     = "America/Sao_Paulo"
  }

  schedule {
    min_replicas = 10
    start        = "0 18 * * *"
    end          = "0 19 * * *"
    timezone     = "UTC"
  }

  prometheus {
    name           = "metric-test"
    threshold      = 2.7
    query          = "sum(rate(test_requests_total[1m])) * 60"
    custom_address = "http://prometheus.example.com:9090"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app` (String) Application name
- `max_units` (Number) maximum number of units
- `process` (String) Application process

### Optional

- `cpu_average` (String) CPU average, for example: 20%, mean that we trigger autoscale when the average of CPU Usage of units is 20%.
- `min_units` (Number) minimum number of units
- `prometheus` (Block List) List of Prometheus autoscale rules (see [below for nested schema](#nestedblock--prometheus))
- `scale_down` (Block List) Behavior of the auto scale down (see [below for nested schema](#nestedblock--scale_down))
- `schedule` (Block List) List of schedules that determine scheduled up/downscales (see [below for nested schema](#nestedblock--schedule))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--prometheus"></a>
### Nested Schema for `prometheus`

Required:

- `name` (String) Name of the Prometheus autoscale rule
- `query` (String) Prometheus query to be used in the autoscale rule
- `threshold` (Number) Threshold value to trigger the autoscaler

Optional:

- `custom_address` (String) Custom Prometheus URL. If not specified, it will use the default Prometheus from the app's pool

Read-Only:

- `prometheus_address` (String) Custom Prometheus URL. If not specified, it will use the default Prometheus from the app's pool


<a id="nestedblock--scale_down"></a>
### Nested Schema for `scale_down`

Optional:

- `percentage` (Number) Percentage of units to scale down
- `stabilization_window` (Number) Stabilization window in seconds
- `units` (Number) Number of units to scale down


<a id="nestedblock--schedule"></a>
### Nested Schema for `schedule`

Required:

- `end` (String)
- `min_replicas` (Number)
- `start` (String)

Optional:

- `timezone` (String)


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import tsuru_app_autoscale.resource_name "app::process"

# example
terraform import tsuru_app_autoscale.web "sample-app::web"
```
